<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>set_logger &#8212; repoclass 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for set_logger</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># Author: Enric Basso</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module, `set_logger.py`, is responsible for setting up the logging</span>
<span class="sd">configuration for the application.</span>

<span class="sd">It provides functions to initialize a logger with a specific name,</span>
<span class="sd">set the logging level, and specify the format of the log messages.</span>

<span class="sd">This allows for consistent logging practices across the application,</span>
<span class="sd">making it easier to debug issues and track application flow.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span>
<span class="kn">from</span> <span class="nn">color</span> <span class="kn">import</span> <span class="n">Color</span>


<span class="k">class</span> <span class="nc">_PrettierRecord</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Filter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging filter that dynamically adds color and module name attributes to log</span>
<span class="sd">    records based on their severity level. This approach avoids the need for specifying</span>
<span class="sd">    these attributes in each log message manually. The filter always returns</span>
<span class="sd">    True to ensure it does not interfere with the log records&#39; processing.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        color_levels (dict): A mapping of log levels to color codes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">color_levels</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;DEBUG&quot;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">cyan</span><span class="p">,</span>
        <span class="s2">&quot;INFO&quot;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">green</span><span class="p">,</span>
        <span class="s2">&quot;WARNING&quot;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">yellow</span><span class="p">,</span>
        <span class="s2">&quot;ERROR&quot;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">red</span><span class="p">,</span>
        <span class="s2">&quot;CRITICAL&quot;</span><span class="p">:</span> <span class="n">Color</span><span class="o">.</span><span class="n">magenta</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds color and module name attributes to the log record.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            record (logging.LogRecord): The log record to process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Always returns True to ensure the record is not filtered out.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">record</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">record</span><span class="o">.</span><span class="n">reset</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">reset</span>
        <span class="k">return</span> <span class="kc">True</span>


<div class="viewcode-block" id="Filter_name">
<a class="viewcode-back" href="../modules.html#set_logger.Filter_name">[docs]</a>
<span class="k">class</span> <span class="nc">Filter_name</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Filter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging filter that will determine if a log record should be processed</span>
<span class="sd">    based on which logger emitted the record. This filter is used to separate</span>
<span class="sd">    log records based on the logger name, allowing for different handling</span>
<span class="sd">    of log records based on their source. Useful to attach it to a handler</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name (str): The name of the logger to filter by. If the logger name</span>
<span class="sd">            matches this value, the log record will be processed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">allowed</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the filter with the specified logger name.</span>

<span class="sd">        If no name is provided, the filter will block all log records.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            name (str or list): The names of the loggers to filter by.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">allowed</span> <span class="o">=</span> <span class="n">allowed</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">allowed</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed</span><span class="p">]</span>

<div class="viewcode-block" id="Filter_name.filter">
<a class="viewcode-back" href="../modules.html#set_logger.Filter_name.filter">[docs]</a>
    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if the log record should be processed based on the logger name.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            record (logging.LogRecord): The log record to process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the log record should be processed, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed</span></div>
</div>



<div class="viewcode-block" id="PrettyScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.PrettyScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">PrettyScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler that formats log messages for display on the screen</span>
<span class="sd">    with colors and delimiters for enhanced readability. It uses a custom</span>
<span class="sd">      format that includes the log level, logger name, function name,</span>
<span class="sd">      line number, and the log message itself.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">pretty_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="SimpleScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.SimpleScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">SimpleScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler designed for simple, uncolored output to the screen.</span>
<span class="sd">    Suitable for most applications where minimal log information is sufficient.</span>
<span class="sd">    Formats log messages to include only the log level and the message itself.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">simple_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="DetailedScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.DetailedScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">DetailedScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler that outputs detailed log messages to the screen without</span>
<span class="sd">    color coding. It includes information such as severity level, module name,</span>
<span class="sd">    function name, and line number, providing a comprehensive context for each log entry.</span>
<span class="sd">    This handler is ideal for environments where color coding is not supported or required.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">detailed_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="ColoredDetailedScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.ColoredDetailedScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">ColoredDetailedScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler designed for outputting detailed log messages to the screen,</span>
<span class="sd">    including severity level, module name, function name, and line number,</span>
<span class="sd">    all with appropriate color coding for enhanced readability.</span>
<span class="sd">    This handler is suitable for applications requiring detailed context in logs,</span>
<span class="sd">    particularly useful for debugging and monitoring.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">colored_detailed_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="DetailedFileHandler">
<a class="viewcode-back" href="../modules.html#set_logger.DetailedFileHandler">[docs]</a>
<span class="k">class</span> <span class="nc">DetailedFileHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A file-based logging handler that records detailed log messages,</span>
<span class="sd">    including severity level, module name, function name, and line number.</span>
<span class="sd">    This handler is tailored for persistent logging to a file, where detailed</span>
<span class="sd">    contextual information is essential for post-mortem analysis</span>
<span class="sd">    and archiving purposes.</span>

<span class="sd">    Inherits from logging.FileHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">detailed_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="PrinterScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.PrinterScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">PrinterScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler that outputs log messages as plain text to the screen,</span>
<span class="sd">    without any color coding or additional contextual information.</span>
<span class="sd">    Designed for the most straightforward logging needs, this handler is useful</span>
<span class="sd">    for applications where logs are intended to be minimal and unobtrusive.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">print_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="ColoredPrinterScreenHandler">
<a class="viewcode-back" href="../modules.html#set_logger.ColoredPrinterScreenHandler">[docs]</a>
<span class="k">class</span> <span class="nc">ColoredPrinterScreenHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A logging handler for outputting log messages as plain text with severity</span>
<span class="sd">    level-based color coding to the screen.</span>
<span class="sd">    This handler is optimized for simplicity and visual differentiation</span>
<span class="sd">    of log messages, making it suitable for quick debugging tasks</span>
<span class="sd">    where minimal contextual information is required.</span>

<span class="sd">    Inherits from logging.StreamHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">_PrettierRecord</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">colored_print_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="PersistentLogHandler">
<a class="viewcode-back" href="../modules.html#set_logger.PersistentLogHandler">[docs]</a>
<span class="k">class</span> <span class="nc">PersistentLogHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A file-based logging handler that records log messages as plain text.</span>
<span class="sd">    This handler is suitable for persistent logging to a file, where</span>
<span class="sd">    all data in the log message can be stored for future reference.</span>
<span class="sd">    The log messages are formatted as json objects for easy parsing.</span>

<span class="sd">    Inherits from logging.FileHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">json_formatter</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="PersistentLogHandlerStructured">
<a class="viewcode-back" href="../modules.html#set_logger.PersistentLogHandlerStructured">[docs]</a>
<span class="k">class</span> <span class="nc">PersistentLogHandlerStructured</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A file-based logging handler that records log messages as plain text.</span>
<span class="sd">    This handler is suitable for persistent logging to a file, where</span>
<span class="sd">    all data in the log message can be stored for future reference.</span>
<span class="sd">    The log messages are formatted as json objects for easy parsing.</span>

<span class="sd">    Inherits from logging.FileHandler.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">Formatters</span><span class="o">.</span><span class="n">json_formatter</span><span class="p">(</span><span class="n">structured</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span></div>



<div class="viewcode-block" id="JsonFormatter">
<a class="viewcode-back" href="../modules.html#set_logger.JsonFormatter">[docs]</a>
<span class="k">class</span> <span class="nc">JsonFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a formatter for logging messages as json</span>

<span class="sd">    Returns:</span>
<span class="sd">        logging.Formatter: An instance configured for json log messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">structured</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">structured</span> <span class="k">else</span> <span class="kc">None</span>

<div class="viewcode-block" id="JsonFormatter.format">
<a class="viewcode-back" href="../modules.html#set_logger.JsonFormatter.format">[docs]</a>
    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">log_record</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">getMessage</span><span class="p">(),</span>
            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="p">,</span>
            <span class="s1">&#39;module&#39;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span>
            <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">funcName</span><span class="p">,</span>
            <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span>
            <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">created</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">log_record</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="Formatters">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters">[docs]</a>
<span class="k">class</span> <span class="nc">Formatters</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides static methods for creating various logging.Formatter objects.</span>
<span class="sd">    This class acts as a namespace and is not intended to be instantiated.</span>
<span class="sd">    It encapsulates formatter definitions for ease of use and consistency</span>
<span class="sd">    across different logging handlers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Formatters.simple_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.simple_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">simple_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a formatter for simple logging.</span>
<span class="sd">        Formats log messages to include the log level and the message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for simple log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{levelname}</span><span class="s2">: </span><span class="si">{message}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.colored_simple_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.colored_simple_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">colored_simple_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a formatter for logging with minimal information,</span>
<span class="sd">        adding color coding according to the severity level.</span>
<span class="sd">        Suitable for concise and visually distinguishable log messages.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for simple, colored log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{color}{levelname}</span><span class="s2">: </span><span class="si">{reset}{message}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.detailed_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.detailed_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">detailed_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a formatter for logging detailed messages without color coding.</span>
<span class="sd">        Includes log level, module name, function name, and line number,</span>
<span class="sd">        providing a comprehensive context for each log message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for detailed log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">{levelname}</span><span class="s2">: </span><span class="si">{filename}</span><span class="s2">:&quot;</span>
            <span class="s2">&quot; in line </span><span class="si">{lineno}</span><span class="s2">:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{message}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.colored_detailed_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.colored_detailed_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">colored_detailed_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a formatter that provides detailed logging information,</span>
<span class="sd">        including log level, logger name, module name, function name,</span>
<span class="sd">        and line number, all colored based on the severity level.</span>
<span class="sd">        Ideal for in-depth debugging where context is crucial.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for detailed, colored log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">{color}{levelname}</span><span class="s2"> from </span><span class="si">{name}</span><span class="s2">: &quot;</span>
            <span class="s2">&quot;</span><span class="si">{filename}</span><span class="s2">: in line </span><span class="si">{lineno}</span><span class="s2">: </span><span class="si">{reset}</span><span class="se">\n</span><span class="si">{message}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.pretty_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.pretty_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">pretty_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Produces a formatter that enhances log readability by using</span>
<span class="sd">        delimiters and newlines, along with color coding by severity level.</span>
<span class="sd">        Designed to make critical log messages stand out visually in busy logs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for visually enhanced log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">divisor</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">60</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">{color}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">divisor</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="s2">&quot;</span><span class="se">\n</span><span class="si">{levelname}</span><span class="s2"> from </span><span class="si">{name}</span><span class="s2"> &quot;</span>
            <span class="s2">&quot;logger in function </span><span class="se">\&quot;</span><span class="si">{funcName}</span><span class="se">\&quot;</span><span class="s2"> line </span><span class="si">{lineno}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;</span><span class="si">{reset}</span><span class="se">\n</span><span class="si">{message}</span><span class="se">\n</span><span class="si">{color}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">divisor</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="s2">&quot;</span><span class="si">{reset}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.print_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.print_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">print_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a formatter for logging messages as plain text.</span>
<span class="sd">        This formatter is intended for simple output scenarios where</span>
<span class="sd">        only the message content is of interest, without any</span>
<span class="sd">        additional log metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for plain text log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{message}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.colored_print_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.colored_print_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">colored_print_formatter</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a formatter for logging messages as plain text with color</span>
<span class="sd">        coding according to the severity level.</span>
<span class="sd">        It simplifies output while retaining visual distinction of log</span>
<span class="sd">        severity for quick scanning.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for plain text, colored log messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{color}{message}{reset}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;{&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Formatters.json_formatter">
<a class="viewcode-back" href="../modules.html#set_logger.Formatters.json_formatter">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">json_formatter</span><span class="p">(</span><span class="n">structured</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a formatter for logging messages as json objects.</span>
<span class="sd">        This formatter is suitable for persistent logging to a file,</span>
<span class="sd">        where structured data is required for further processing.</span>

<span class="sd">        Returns:</span>
<span class="sd">            logging.Formatter: An instance configured for json log messages.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">JsonFormatter</span><span class="p">(</span><span class="n">structured</span><span class="o">=</span><span class="n">structured</span><span class="p">)</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">repoclass</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Enric Basso.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>